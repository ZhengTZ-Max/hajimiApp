<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="åˆ›é€ å±äºä½ è‡ªå·±çš„å“ˆåŸºç±³éŸ³ä¹ï¼">
  <title>Hajimi</title>
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="icon" href="icon.png" sizes="any">
  <link href="css/css.css" rel="stylesheet">
  <link charset="UTF-8" href="shared/sp/css/common.css" rel="stylesheet">
  <link charset="utf-8" href="css/mikutap.css" rel="stylesheet">

  <script charset="utf-8" src="js/jquery.min.js"></script>
  <script charset="utf-8" src="js/pixi.min.js"></script>
  <script charset="utf-8" src="js/gsap.min.js"></script>
  <script charset="UTF-8" src="shared/js/common-2.min.js"></script>
  <script charset="utf-8" src="js/mikutap.js"></script>

  <style>
    :root{
      --logo-size: clamp(72px, 10vw, 108px);
      --logo-gap: 12px;  /* logo ä¸ GIF çš„é—´è· */
    }
    @media (max-width: 768px){
      :root{ --logo-size: clamp(58px, 14vw, 80px); }
    }

 

    /* Start æŒ‰é’®å¢å¼º */
    #bt_start a{
      font-weight: 800; letter-spacing: .02em;
      font-size: clamp(28px, 6vw, 56px);
      padding: .4em .9em; border-radius: 999px; display: inline-block;
      background: rgba(255,255,255,.08); border: 2px solid rgba(255,255,255,.35);
      text-decoration: none; backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    }

    /* ç™«ç—«ï¼ˆå…‰æ•ï¼‰è­¦ç¤ºæ¡ */
    .seizure-warning{
      position: relative; margin: 14px auto 0; max-width: 840px;
      border: 1px solid rgba(255,255,255,.3); background: rgba(0,0,0,.45);
      color: #fff; padding: 10px 14px 10px 44px; line-height: 1.45; border-radius: 12px;
      font-size: clamp(12px, 2.7vw, 15px); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    }
    .seizure-warning::before{ content: "âš "; position: absolute; left: 12px; top: 8px; font-size: 20px; }
    .seizure-warning .close{
      position: absolute; right: 8px; top: 6px; font-weight: 700; font-size: 16px; cursor: pointer;
      padding: 2px 8px; border-radius: 8px; user-select: none; line-height: 1.1;
      background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.25);
    }

    /* é¡µè„š */
    footer#site_footer{ width: 100%; margin: 36px 0 24px; text-align: center; font-size: 12px; color: #cfd8e3; opacity: .9; }
    footer#site_footer a{ color:#cfd8e3; }

  
/* â€”â€” èƒŒæ™¯ MP4 â€”â€” */
.bgmp4{
  position: fixed;
  inset: 0;
  z-index: 0;               /* æ”¾åœ¨ç¬¬ 0 å±‚ */
  pointer-events: none;
  overflow: hidden;
}
.bgmp4 video{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;        /* é“ºæ»¡ */
  object-position: center;  /* å±…ä¸­ */
  transition: opacity .35s ease;
  opacity: 1;
}

/* ç‚¹å‡» Start åæ·»åŠ  .hideï¼Œä½¿è§†é¢‘æ·¡å‡º */
.bgmp4.hide video{ opacity: 0; }

/* ç«–å±ï¼šè£æ‰å·¦å³ 25%ï¼Œåªæ˜¾ç¤ºä¸­é—´ 50% å®½åº¦ */
@media (orientation: portrait){
  .bgmp4 video{
    /* åªæ˜¾ç¤º 25%~75% çš„æ°´å¹³åŒºåŸŸ */
    clip-path: inset(0 25% 0 25%);
  }
}


/* è®©é¡¶å±‚å®¹å™¨éƒ½é€æ˜ï¼Œé¿å…é®ä½è§†é¢‘ */
html, body,
#view,
#scene_top,
#scene_loading,
#scene_main



/* æŸäº›ä¸»é¢˜ä¼šç»™ <canvas> ä¸ŠèƒŒæ™¯è‰²ï¼Œä¹Ÿä¸€å¹¶æ¸…æ‰ */
#view canvas {
  background: transparent !important;
}
/* â€”â€”â€” å¼ºåˆ¶æŠŠè§†é¢‘æ”¾åœ¨æ‰€æœ‰å†…å®¹ä¸‹æ–¹ä½†å¯è§ â€”â€”â€” */
.bgmp4{ z-index: 1 !important; }               /* è§†é¢‘å±‚ */
.bgmp4 video{
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: none !important;
  background: transparent !important;
}

/* â€”â€”â€” ä»»ä½•å¯èƒ½æ˜¯â€œæ•´å±å®¹å™¨â€çš„èƒŒæ™¯ï¼Œç»Ÿç»Ÿé€æ˜ â€”â€”â€” */
html, body,
#view, #scene_top, #scene_loading, #scene_main,
 #about, #about_in {
  background: transparent !important;
}

/* ç”»å¸ƒæœ‰æ—¶å€™è‡ªå¸¦åº•è‰²ï¼Œæ¸…æ‰ */
#view canvas{ background: transparent !important; }

/* æœ‰ç«™ç‚¹ä¼šç”¨ä¼ªå…ƒç´ é“ºæ•´å±èƒŒæ™¯ï¼Œè¿™é‡Œä¹Ÿæ¸… */
body::before, body::after,
#scene_top::before, #scene_top::after,
#scene_main::before, #scene_main::after,
#view::before, #view::after {
  content: none !important;
  background: transparent !important;
}

/* â€”â€”â€” æŠŠä½ çš„ UI æ”¾åˆ°è§†é¢‘ä¸Šé¢ï¼ˆz=2ï¼‰ï¼Œä½†ä¸æ”¹å˜åŸæœ¬ hover/ç‚¹å‡»å±‚çº§ â€”â€”â€” */
#scene_top, #scene_loading, #scene_main,
#bt_back, #bt_fs,
.gif-hud, .top-actions, .site-logo {
  position: relative;         /* å½¢æˆå±‚å ä¸Šä¸‹æ–‡ */
  z-index: 2 !important;      /* ç»Ÿä¸€åœ¨è§†é¢‘ä¹‹ä¸Š */
}

/* ç«–å±åªæ˜¾ç¤º 25%~75% å®½åº¦ï¼ˆä¸­é—´ 50%ï¼‰ */
@media (orientation: portrait){
  .bgmp4 video{ clip-path: inset(0 25% 0 25%) !important; }
}
/* è®©å®¹å™¨æœ¬èº«å‚ä¸æ·¡å‡ºï¼›æ·¡å‡ºåä¸å¯è§ä¹Ÿä¸å ä½ */
.bgmp4{
  position: fixed;
  inset: 0;
  z-index: 1 !important;
  pointer-events: none;
  overflow: hidden;
  opacity: 1;
  transition: opacity .35s ease;
}
.bgmp4 video{
  width: 100%;
  height: 100%;
  display: block !important;
  object-fit: cover;
  object-position: center;
  opacity: 1 !important;
  visibility: visible !important;
}

/* ç‚¹å‡» Start åï¼šå®¹å™¨æ•´ä½“æ·¡å‡ºå¹¶éšè— */
.bgmp4.hide{
  opacity: 0;
  visibility: hidden; /* è§†è§‰ä¸å¯ç‚¹æ€§åŒæ—¶å…³æ‰ */
}

/* ç«–å±ï¼šæ”¾å¤§åˆ° 200vw å±…ä¸­ï¼Œè§†å£åªçœ‹åˆ°ä¸­é—´å†…å®¹ï¼ŒåŒæ—¶å®Œå…¨ç›–ä½å››å‘¨ç™½è¾¹ */
@media (orientation: portrait){
  .bgmp4{
    overflow: hidden;               /* é˜²æ­¢æ”¾å¤§åå¤–æº¢ */
    background: #000;               /* å…œåº•ï¼Œé˜²æ­¢é¦–å¸§ç©ºç™½ */
  }
  .bgmp4 video{
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200vw;                   /* æ¨ªå‘æ”¾å¤§ 2 å€ï¼Œç›¸å½“äºåªæ˜¾ç¤ºä¸­é—´ 50% åŒºåŸŸ */
    height: 100vh;
    transform: translate(-50%, -50%);
    object-fit: cover;
    object-position: center;
    clip-path: none !important;     /* è¦†ç›–ä¹‹å‰çš„è£å‰ªï¼Œé¿å…è¾¹ç¼˜é€æ˜ */
  }
}

  /* â€”â€” å³ä¸Šè§’ç¤¾äº¤ & CA â€”â€” */
    .top-actions{
      position: fixed;
      top: calc(env(safe-area-inset-top, 0px) + 10px);
      right: calc(env(safe-area-inset-right, 0px) + 10px);
      display: flex; align-items: center; gap: 10px; z-index: 9999; pointer-events: auto;
      flex-wrap: wrap; justify-content: flex-end; /* çª„å±å¯æ¢è¡Œ */
    }
    /* å®½å±ï¼šæ•´ä½“ä»å³è¾¹å¾€é‡Œ 25% */
    @media (min-width: 1400px){ .top-actions{ right: 25vw; } }

    /* åœ†å½¢å›¾æ ‡æŒ‰é’®ï¼ˆX/TGï¼‰ */
    .icon-btn{
      display: inline-flex; align-items: center; justify-content: center;
      width: clamp(42px, 6.8vw, 58px); height: clamp(42px, 6.8vw, 58px);
      border-radius: 999px; border: 1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.08); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      text-decoration: none; transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .icon-btn:hover{ transform: translateY(-1px) scale(1.03); border-color: rgba(255,255,255,.55); background: rgba(255,255,255,.12); }
    .icon-btn svg{ width: 64%; height: 64%; }

    /* CA èŠ¯ç‰‡ */
    .ca-chip{
      position: relative; display: inline-flex; align-items: center; gap: 10px; max-width: 150px;
      padding: 10px 14px; border-radius: 999px; font-size: clamp(13px, 2.6vw, 16px); line-height: 1;
      white-space: nowrap; overflow: hidden; border: 1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.08); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      cursor: pointer; transition: max-width .25s ease, border-color .15s ease, background .15s ease;
    }
    .ca-chip:hover{ max-width: min(78vw, 520px); border-color: rgba(255,255,255,.55); background: rgba(255,255,255,.12); }
    .ca-chip .label{ opacity:.85; font-weight:700; letter-spacing:.02em; font-size: 0.95em; }
    .ca-chip .short{ display:inline; }
    .ca-chip .full{ display:none; }
    .ca-chip:hover .short{ display:none; }
    .ca-chip:hover .full{ display:inline; }
    .ca-chip::after{
      content: "Click to copy"; position: absolute; top: -28px; right: 10px; font-size: 12px;
      padding: 4px 8px; border-radius: 8px; background: rgba(0,0,0,.65); border: 1px solid rgba(255,255,255,.25);
      opacity: 0; transform: translateY(-4px); pointer-events: none; transition: all .18s ease;
    }
    .ca-chip:hover::after{ opacity: 1; transform: translateY(0); }

.copied-toast{
  position: fixed;
  left: 0; top: 0;              /* èµ·å§‹å€¼ï¼ŒJS ä¼šæ”¹æˆè´´ç€ CA çš„åƒç´ ä½ */
  padding: 10px 14px;
  font-size: 13px;
  border-radius: 10px;
  background: rgba(0,0,0,.80);
  color: #fff;
  border: 1px solid rgba(255,255,255,.25);
  z-index: 10000;
  opacity: 0;
  transform: translateY(-8px);
  transition: opacity .18s ease, transform .18s ease;
  pointer-events: none;          /* ä»…å±•ç¤ºï¼Œä¸æŠ¢ç‚¹å‡» */
  white-space: nowrap;
}
.copied-toast.show{
  opacity: 1;
  transform: translateY(0);
}
    /* èƒ¶å›ŠæŒ‰é’®ï¼ˆBinance / GMGNï¼‰ */
    .pill-btn{
      display: inline-flex; align-items: center; gap: 6px; padding: 9px 14px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.35); background: rgba(255,255,255,.08);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      text-decoration: none; font-weight: 700; font-size: clamp(13px, 2.4vw, 15px); color: #fff; line-height: 1;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .pill-btn:hover{ transform: translateY(-1px) scale(1.03); border-color: rgba(255,255,255,.55); background: rgba(255,255,255,.12); }
    .pill-logo{ width: 1.1em; height: 1.1em; object-fit: contain; vertical-align: middle; border-radius: 4px; user-select: none; -webkit-user-drag: none; opacity: .95; }
    @media (max-width: 768px){ .pill-btn{ padding: 8px 12px; font-size: 14px; gap: 5px; } .pill-logo{ width: 1em; height: 1em; } }
/* ç»Ÿä¸€æŠŠå³ä¸Šè§’åœ†å½¢æŒ‰é’®ç¨å¾®ç¼©å° */
.top-actions .icon-btn{
  width: clamp(36px, 5.8vw, 48px);
  height: clamp(36px, 5.8vw, 48px);
}

/* æ—¢é€‚ç”¨äº SVG ä¹Ÿé€‚ç”¨äº IMGï¼šå†…éƒ¨å›¾æ ‡å æŒ‰é’®çš„ 64% */
.top-actions .icon-btn svg,
.top-actions .icon-btn .icon-glyph{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
}


    /* â€”â€” é¡¶ä¸­ç²¾ç¾ Logo å¾½ç« ï¼ˆæ”¾åˆ°é¡µé¢å·¦ä¾§ 25%ï¼Œç«–å±æ—¶è´´æœ€å·¦è¾¹ï¼‰ â€”â€” */
.site-logo{
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 12px);
  left: 25vw;
  transform: none;
  z-index: 9500;
  pointer-events: none;
}
@media (orientation: portrait){
  .site-logo{ left: calc(env(safe-area-inset-left, 0px) + 12px); }
}

.site-logo .logo-wrap{
  position: relative;
  width: var(--logo-size);
  aspect-ratio: 1/1;
  border-radius: 50%;
  overflow: visible;
  filter: drop-shadow(0 8px 18px rgba(0,0,0,.35));
  animation: logoFloat 4.5s ease-in-out infinite;
}

.site-logo .logo-wrap::before{
  content: "";
  position: absolute;
  inset: -8%;
  border-radius: 50%;
  background: conic-gradient(from 0deg, #59f 0%, #7cf 30%, #9ff 50%, #7cf 70%, #59f 100%);
  filter: blur(8px) saturate(120%);
  opacity: .65;
  animation: ringSpin 10s linear infinite;
  z-index: 0;
  pointer-events: none;
}

.site-logo .logo-wrap::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(60% 60% at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,0) 60%),
              radial-gradient(70% 70% at 70% 70%, rgba(255,255,255,.12), rgba(255,255,255,0) 65%);
  border: 1px solid rgba(255,255,255,.4);
  box-shadow: inset 0 0 18px rgba(255,255,255,.2), 0 0 24px rgba(100,200,255,.25);
  z-index: 0;
  pointer-events: none;
}

.site-logo img{
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  -webkit-user-drag: none;
  user-select: none;
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.12);
  position: relative;
  z-index: 1;
  filter: none !important;
  mix-blend-mode: normal;
}

.site-logo .spark{
  position: absolute;
  width: 8%;
  aspect-ratio: 1/1;
  left: 12%;
  top: 18%;
  border-radius: 50%;
  background: radial-gradient(circle, #fff, rgba(255,255,255,0) 60%);
  opacity: 0;
  animation: sparkBlink 3.6s ease-in-out infinite;
}
/* Logo å³ä¾§æ–‡å­— hajimi */
.site-logo .logo-text{
  position: absolute;
  left: calc(100% + var(--logo-gap));   /* ç´§è·Ÿåœ†å½¢å¾½ç« å³ä¾§ */
  top: 50%;
  transform: translateY(-50%);
  font-weight: 900;
  text-transform: lowercase;
  letter-spacing: .06em;
  font-size: clamp(18px, 2.6vw, 28px);
  line-height: 1;
  color: #ffffff;
    white-space: nowrap;   /* âœ… ç¦æ­¢æ¢è¡Œ */
  /* ä½è°ƒå‘å…‰ + ç»†æè¾¹ï¼Œé€‚é…æµ…/æ·±èƒŒæ™¯è§†é¢‘ */
  text-shadow: 0 2px 10px rgba(80,160,255,.28), 0 0 18px rgba(80,160,255,.22);
  -webkit-text-stroke: .6px rgba(0,0,0,.35);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
  pointer-events: none;
  user-select: none;
}
@media (orientation: portrait){
  .site-logo .logo-text{
    left: calc(var(--logo-size) + var(--logo-gap)); /* ç«–å±æ—¶ä»ç´§è·Ÿå¾½ç«  */
  }
}

#scene_top h1{
  margin: 0;
  font-family: "ZCOOL KuaiLe", "PingFang SC", "HarmonyOS Sans", "Noto Sans SC",
               system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-weight: 700;
  font-size: clamp(56px, 9vw, 128px);
  letter-spacing: .02em;
  line-height: 1.04;
  text-align: center;

  color: #fff;
  -webkit-text-stroke: 4px rgba(0,0,0,.35);
  text-shadow:
    0 3px 0 rgba(0,0,0,.22),
    0 10px 24px rgba(0,0,0,.28);

  /* ğŸ‘‰ å‘ä¸‹ç§»åŠ¨ 10% è§†å£é«˜åº¦ */
  transform: translateY(1vh);
}

/* é WebKit æµè§ˆå™¨çš„æè¾¹å…œåº•ï¼šç”¨å¤šé‡é˜´å½±æ¨¡æ‹Ÿ Outlineï¼ˆå¯ç•™å¯å»ï¼‰ */
@supports not (-webkit-text-stroke: 1px black){
  #scene_top h1{
    text-shadow:
      0 0 0 rgba(0,0,0,0),
      0 0 1px rgba(0,0,0,.38),
      0 0 2px rgba(0,0,0,.38),
      0 0 3px rgba(0,0,0,.38),
      0 3px 0 rgba(0,0,0,.22),
      0 10px 24px rgba(0,0,0,.28);
  }
}

.raise10{
  position: relative;
  top: -10vh;
}

.raise10{
  position: relative;
  top: -10vh;
}


@keyframes ringSpin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
@keyframes logoFloat{0%,100%{transform:translateY(0);}50%{transform:translateY(2px);}}
@keyframes sparkBlink{0%,70%,100%{opacity:0;transform:scale(.6);}72%{opacity:.9;transform:scale(1.05);}78%{opacity:0;transform:scale(.6);}}
   /* â€”â€” GIF å åŠ å±‚ï¼ˆPC + ç§»åŠ¨ï¼‰ â€”â€” */
    .gif-hud {
      pointer-events: none;
      position: fixed;
      z-index: 8888;
    }
    .gif-hud img{
      display: block; width: 100%; height: auto; object-fit: contain;
      image-rendering: auto; -webkit-user-drag: none; user-select: none;
    }
    /* å·¦ä¸Šè§’ GIFï¼šä¸ logo å·¦å¯¹é½ï¼Œä¸”æ›´å¾€ä¸‹æ”¾ */
    #gif_tl{
      position: fixed;
      left: 25vw;                           /* å…³é”®ï¼šä¸å†è´´æœ€å·¦è¾¹ */
      top: calc(env(safe-area-inset-top, 0px) + var(--logo-size) + 60px);
      width: min(32vw, 240px);
    }
    /* åº•éƒ¨ä¸­é—´ */
    #gif_bc{ left: 30%; transform: translateX(-50%); bottom: 12px; width: min(28vw, 150px); }
    /* å³ä¸‹è§’ */
    #gif_br{ right: 20vw; bottom: 12px; width: min(34vw, 150px); }

    @media (max-width: 768px){
      #gif_bc{ bottom: 8px; }
      #gif_br{ right: 20vw; bottom: 8px; }
    }
    

/* å›ºå®š CA åœ¨åº•éƒ¨ï¼Œç¦»åº•éƒ¨ 10% è§†å£é«˜ï¼›æ°´å¹³å±…ä¸­ */
#ca_chip{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(5vh + max(8px, env(safe-area-inset-bottom, 0px)));
  z-index: 10001;           /* åœ¨è§†é¢‘ä¸UIä¹‹ä¸Š */
  pointer-events: auto;     /* å¯ç‚¹å‡» */
}

/* å¯é€‰ï¼šå¦‚æœä¸æƒ³é»˜è®¤å±•å¼€ï¼Œå»æ‰ ca-always-open è¿™ä¸ªç±»å³å¯ */
.ca-chip.ca-always-open{
  max-width: min(78vw, 520px);
}
.ca-chip.ca-always-open .short{ display: none; }
.ca-chip.ca-always-open .full{ display: inline; }
/* è®©å·¦ä¸Šè§’å¾½ç« æ•´ä½“å¯ç‚¹å‡» */
.site-logo{ pointer-events: auto; }

/* åŒ…ä¸€å±‚å¯ç‚¹å‡»åŒºåŸŸï¼Œè¦†ç›–å¾½ç« ä¸å³ä¾§æ–‡å­— */
.site-logo .logo-link{
  position: absolute;
  inset: 0;
  display: block;
  border-radius: 16px;
  /* ä¸å½±å“è§†è§‰ï¼Œä»…æä¾›ç‚¹å‡»åŒºåŸŸ */
  background: transparent;
}

.back-btn{
  position: absolute;
  left: 0;
  top: calc(100% + 10px);
  z-index: 9600;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  text-decoration: none;   /* âœ… å»æ‰ä¸‹åˆ’çº¿ */
  font-weight: 700;
  font-size: 14px;
  color: #fff;             /* âœ… ç™½è‰²æ–‡å­— */
  line-height: 1;
  transition: transform .15s ease, border-color .15s ease, background .15s ease;
}
.back-btn:hover{
  transform: translateY(-1px) scale(1.03);
  border-color: rgba(255,255,255,.55);
  background: rgba(255,255,255,.12);
}
/* ç«–å±æ—¶ç¨å¾®å¾€å³ä¸€ç‚¹ï¼Œé¿å…è´´è¾¹ */
@media (orientation: portrait){
  .back-btn{ left: 6px; }
}

.credit-note{
  position: fixed;
  right: calc(env(safe-area-inset-right, 0px) + 12px);
  bottom: calc(env(safe-area-inset-bottom, 0px) + 12px);
  z-index: 9500;
  max-width: min(80vw, 520px);
  font-size: 12px;
  color: #cfd8e3;
  opacity: .9;

  /* è§†è§‰ä¸å…¨ç«™ä¸€è‡´çš„ç»ç’ƒæ„Ÿï¼Œä½†ä¸æŠ¢ç‚¹å‡» */
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  pointer-events: none;   /* âœ… ä¸å¯ç‚¹å‡»ï¼Œä¹Ÿä¸æŒ¡ä½åº•ä¸‹å…ƒç´  */
  user-select: text;      /* å…è®¸å¤åˆ¶æ–‡å­— */
  white-space: nowrap;
}


/* åªæ”¾å¤§ä¸»åœºæ™¯è¿™æ¡æç¤ºï¼Œä¸å½±å“å…¶å®ƒ .attention */
#scene_main .set #tip_interact{
  font-size: clamp(24px, 4.6vw, 34px);  /* â† æ›´å¤§ä¸€çº§ */
  line-height: 1.4;
  font-weight: 800;
  text-align: center;
  letter-spacing: .02em;
}

/* ç¡®ä¿å›¾ç‰‡èƒ½ç¼©æ”¾ */
.icon-btn .icon-glyph {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: transform .15s ease;
}

/* ç¼©å° X å›¾æ ‡åˆ° 0.8 å€ */
.icon-btn[href*="x.com"] .icon-glyph {
  transform: scale(0.66);
}

/* ç¼©å° Telegram å›¾æ ‡åˆ° 0.7 å€ */
.icon-btn[href*="t.me"] .icon-glyph {
  transform: scale(1);
}
/* â€”â€” èŠ±ç“£ç”»å¸ƒï¼šå…¨å±ç½®é¡¶ä½†ä¸æŒ¡äº¤äº’ â€”â€” */
#petalCanvas{
  position: fixed;
  inset: 0;
  pointer-events: none;          /* ä¸æŠ¢ç‚¹å‡» */
  z-index: 9998;                 /* ä½äº CA(10001)ã€ç¤¾äº¤(9999)ï¼Œé«˜äºä¸»èˆå° */
}

  </style>
</head>

<body>
  <!-- èƒŒæ™¯ MP4ï¼ˆè¿›å…¥é¡µå°±çœ‹å¾—åˆ°ï¼ŒStart åä¼šæ·¡å‡ºï¼‰ -->

  <!-- äº’åŠ¨èˆå° -->
  <div id="view"></div>

  <!-- é¡¶éƒ¨åœºæ™¯ -->
  <div id="scene_top">


    <!-- å…‰æ•æ€§ç™«ç—«è­¦ç¤ºï¼ˆä¸­è‹±åŒè¯­ï¼Œå¯å…³é—­ï¼‰ -->
    <div class="seizure-warning" id="sz_warn">
      <div class="close" id="sz_close">Ã—</div>
      <div>
        <strong>ç™«ç—«/å…‰æ•æ€§è­¦ç¤ºï¼š</strong>æœ¬é¡µé¢åŒ…å«å¿«é€Ÿé—ªçƒä¸é«˜å¯¹æ¯”åº¦è§†è§‰æ•ˆæœï¼Œå°‘æ•°ç”¨æˆ·å¯èƒ½è¯±å‘å…‰æ•æ€§ç™«ç—«æˆ–ä¸é€‚ã€‚<br>
        <strong>Photosensitivity Warning:</strong> This page contains rapidly flashing/high-contrast visual effects that may trigger photosensitive epilepsy or discomfort in a small number of users.
      </div>
    </div>

    <div id="ng">
      <p class="atten">ååˆ†æŠ±æ­‰<br>æ‚¨çš„æµè§ˆå™¨å¹¶ä¸æ”¯æŒæœ¬é¡µé¢éœ€è¦çš„ç‰¹æ€§ / Your browser does not support required features.</p>
    </div>

    <div class="ok">
      <p id="bt_start" ><a href="">Start Music!!</a></p>
    </div>

    <div class="ok">
      <p class="attention">â€» è¯·æ‰“å¼€å£°éŸ³å¹¶äº«å— / Please raise your sound and enjoy.</p>
    </div>
        <h1 >å“ˆåŸºç±³</h1>
  </div>

  <!-- èµ„æºåŠ è½½åœºæ™¯ -->
  <div id="scene_loading"><hr size="1" color="#fff"></div>

  <!-- ä¸»äº’åŠ¨åœºæ™¯ -->
  <div id="scene_main">
    <div class="set">
      <p id="tip_interact" class="attention">
        ç‚¹å‡» & æ‹–åŠ¨ æˆ– æŒ‰ä»»æ„é”®ï¼<br>
        Tap & drag or press any key!
      </p>
      <p id="bt_feedback"><a href="">åé¦ˆ: å¼€å¯</a></p>
      <p id="bt_backtrack"><a href="">èƒŒæ™¯éŸ³ä¹: å¼€å¯</a></p>
    </div>
  </div>

  <!-- è¿”å› / å…¨å±æŒ‰é’®ï¼ˆä¿æŒåŸæœ‰ç»“æ„ï¼‰ -->
  <!-- <div id="bt_back">ï¼œBACK</div> -->

  <!-- ä¸‰ä¸ª GIF æ’æ§½ -->
  <div class="gif-hud" id="gif_tl">
    <img src="assets/gif1.gif" alt="Top-left GIF (replace src)">
  </div>
  <div class="gif-hud" id="gif_bc">
    <img src="assets/gif2.gif" alt="Bottom-center GIF (replace src)">
  </div>
  <div class="gif-hud" id="gif_br">
    <img src="assets/gif3.gif" alt="Bottom-right GIF (replace src)">
  </div>

 <div class="top-actions" aria-label="social and contract actions">


  <a class="icon-btn" href="https://x.com/hajimi_CTO_BNB" target="_blank" rel="noopener">
  <img src="assets/x.svg" alt="X" class="icon-glyph">
</a>

<a class="icon-btn" href="https://t.me/BNB_Hajimiiii" target="_blank" rel="noopener">
  <img src="assets/telegram.svg" alt="Telegram" class="icon-glyph">
</a>

  <!-- GMGNï¼ˆç”¨å›¾ç‰‡å½“å›¾æ ‡ï¼‰ -->
  <a class="icon-btn" href="https://gmgn.ai/bsc/token/0x82ec31d69b3c289e541b50e30681fd1acad24444"
     target="_blank" rel="noopener" aria-label="Open GMGN token page">
    <img src="assets/gmgn.png" alt="GMGN" class="icon-glyph">
  </a>

  <!-- Binance Walletï¼ˆç”¨å›¾ç‰‡å½“å›¾æ ‡ï¼‰ -->
  <a class="icon-btn" href="https://web3.binance.com/en/token/bsc/0x82ec31d69b3c289e541b50e30681fd1acad24444"
     target="_blank" rel="noopener" aria-label="Open Binance Wallet">
    <img src="assets/bnwallet.png" alt="BN Wallet" class="icon-glyph">
  </a>
</div>

<!-- é¡¶éƒ¨å¾½ç« ï¼ˆä½äºå·¦ä¾§ 25%ï¼‰ -->
<div class="site-logo" aria-label="Hajimi logo">
  <!-- ç‚¹å‡»æ•´ä¸ªå¾½ç« ä¸æ–‡å­—ï¼Œè¿”å›é¦–é¡µ -->
  <a href="/" target="_top" class="logo-link" aria-label="Back to index"></a>

  <div class="logo-wrap">
    <img src="assets/hajimi.png" alt="Hajimi Logo">
    <i class="spark" aria-hidden="true"></i>
  </div>
  <div class="logo-text" aria-hidden="true">å“ˆåŸºç±³ hajimi</div>

  <!-- Back æŒ‰é’®ï¼ˆæ ·å¼ä¸å³ä¸Šè§’æŒ‰é’®ä¸€è‡´çš„ç»ç’ƒèƒ¶å›Šï¼‰ -->
  <a href="/" target="_top" class="back-btn" aria-label="Back">Back</a>
</div>
<div class="bgmp4" aria-hidden="true">
  <video id="bg_mp4"
         autoplay
         muted
         loop
         playsinline
         preload="auto"
         poster="">
    <source src="assets/bg3.mp4" type="video/mp4">
    <!-- å¦‚æœ‰ webm å¯å†åŠ ä¸€æ¡ -->
    <!-- <source src="assets/bg.webm" type="video/webm"> -->
  </video>
</div>


<!-- å›ºå®šåœ¨åº•éƒ¨çš„ CA èŠ¯ç‰‡ -->
<div id="ca_chip" class="ca-chip ca-always-open" role="button" aria-label="Copy contract address">
  <span class="label">CA</span>
  <span class="short">0x82ec...4444</span>
  <span class="full">0x82ec31d69b3c289e541b50e30681fd1acad24444</span>
</div>
<div class="credit-note">
  åˆ›æ„æ¥è‡ª @daniwell_aidn  https://aidn.jp/mikutap
</div>
  <!-- é¡µè„šï¼šåŸç«™å£°æ˜ç§»åŠ¨åˆ°æœ€åº•éƒ¨ -->
  <footer id="site_footer">
    <a href="https://aidn.jp/mikutap" target="_blank" rel="noopener">https://aidn.jp/mikutap</a>
  </footer>

  <script>
    // å…³é—­å…‰æ•æ€§è­¦ç¤º
    (function(){
      const box = document.getElementById('sz_warn');
      const close = document.getElementById('sz_close');
      close && close.addEventListener('click', function(e){ e.preventDefault(); box.style.display = 'none'; }, {passive: false});
    })();
  </script>

<script>
(function(){
  const chip = document.getElementById('ca_chip');
  if(!chip) return;
  const fullText = '0x82ec31d69b3c289e541b50e30681fd1acad24444';

  function showToast(msg){
    const t = document.createElement('div');
    t.className = 'copied-toast';
    t.textContent = msg;
    document.body.appendChild(t);

    // å…ˆæ¸²æŸ“å†æµ‹é‡å°ºå¯¸
    requestAnimationFrame(()=>{
      const r  = chip.getBoundingClientRect();
      const tr = t.getBoundingClientRect();
      const vw = window.innerWidth;

      // é»˜è®¤æ”¾åœ¨ CA å³ä¾§å±…ä¸­å¯¹é½
      let left = r.right + 10;
      let top  = r.top + (r.height - tr.height) / 2;

      // å¦‚æœå³ä¾§æ”¾ä¸ä¸‹ï¼Œå°±æ”¹æ”¾åˆ° CA ä¸Šæ–¹å±…ä¸­
      if (left + tr.width + 8 > vw) {
        left = r.left + (r.width - tr.width) / 2;
        top  = r.top - tr.height - 10;
      }

      // åº”ç”¨å®šä½
      t.style.left = `${Math.max(8, left)}px`;
      t.style.top  = `${Math.max(8, top)}px`;

      // å‡ºåœºåŠ¨ç”»
      t.classList.add('show');

      // å®šæ—¶æ¶ˆå¤±
      setTimeout(()=>{
        t.classList.remove('show');
        setTimeout(()=> t.remove(), 220);
      }, 1400);
    });
  }

  async function copyCA(){
    try{
      if(navigator.clipboard && navigator.clipboard.writeText){
        await navigator.clipboard.writeText(fullText);
      }else{
        const ta = document.createElement('textarea');
        ta.value = fullText; ta.style.position = 'fixed'; ta.style.opacity = '0';
        document.body.appendChild(ta); ta.focus(); ta.select(); document.execCommand('copy'); ta.remove();
      }
      showToast('CA copied!');
    }catch(err){
      console.error('Copy failed:', err);
      showToast('Copy failed, please copy manually.');
    }
  }

  // å•å‡»/è§¦æ‘¸å³å¯å¤åˆ¶
  chip.addEventListener('click', (e)=>{ e.preventDefault(); copyCA(); }, {passive:false});
})();
</script>

<script>
  (function(){
    const video = document.getElementById('bg_mp4');
    const wrap  = document.querySelector('.bgmp4');
    // ä¿é™©èµ·è§ï¼Œå°è¯•æ’­æ”¾ï¼ˆæœ‰äº›æµè§ˆå™¨éœ€è¦æ˜¾å¼è°ƒç”¨ï¼‰
    if (video && video.play) {
      const p = video.play();
      if (p && p.catch) p.catch(()=>{}); // å¿½ç•¥è‡ªåŠ¨æ’­æ”¾è¢«æ‹¦æˆªçš„æŠ¥é”™
    }

    // ç›‘å¬ Startï¼šè®©èƒŒæ™¯è§†é¢‘æ·¡å‡ºå¹¶åœ¨è¿‡æ¸¡å®Œæˆåæš‚åœ
    const startLink = document.querySelector('#bt_start a');
    if (startLink && wrap && video) {
      startLink.addEventListener('click', function(e){
        e.preventDefault();         // é˜»æ­¢ <a href=""> å¯¼èˆª/åˆ·æ–°
        e.stopPropagation();        // ä¸è®©äº‹ä»¶å†’æ³¡åˆ°å¤–å±‚
        wrap.classList.add('hide');
        const onEnd = () => { video.pause(); video.removeEventListener('transitionend', onEnd); };
        video.addEventListener('transitionend', onEnd);
      }, {passive:false});
    }
  })();
</script>
<script>
(function(){
  const video = document.getElementById('bg_mp4');
  const wrap  = document.querySelector('.bgmp4');
  if (!video || !wrap) {
    console.warn('[BGMP4] è§†é¢‘èŠ‚ç‚¹ä¸å­˜åœ¨');
    return;
  }

  // è°ƒè¯•ä¿¡æ¯ï¼šçœ‹ç½‘ç»œ/è§£ç /è‡ªåŠ¨æ’­æ”¾
  video.addEventListener('error', (e)=>{
    console.error('[BGMP4] <video> error:', e, video.error);
  });
  video.addEventListener('loadedmetadata', ()=> console.log('[BGMP4] loadedmetadata', {duration: video.duration}));
  video.addEventListener('loadeddata',    ()=> console.log('[BGMP4] loadeddata, readyState=', video.readyState));
  video.addEventListener('canplay',       ()=> console.log('[BGMP4] canplay'));
  video.addEventListener('play',          ()=> console.log('[BGMP4] playing'));
  video.addEventListener('pause',         ()=> console.log('[BGMP4] paused'));

  // å…œåº•ï¼šå¦‚æœå¤–é“¾ CSS æŸå¤„æŠŠ <video> éšè—äº†ï¼Œè¿™é‡Œå¼ºåˆ¶æ˜¾ç¤º
  const forceVisible = () => {
    video.style.display = 'block';
    video.style.visibility = 'visible';
    video.style.opacity = '1';
  };
  forceVisible();

  // è‡ªåŠ¨æ’­æ”¾å…œåº•ï¼ˆiOS/å®‰å“éœ€è¦ muted+playsinline å·²å…·å¤‡ï¼‰
  const tryPlay = () => {
    try {
      const p = video.play();
      if (p && p.catch) p.catch(err => console.warn('[BGMP4] autoplay blocked, wait for user gesture', err));
    } catch (err) {
      console.warn('[BGMP4] play() threw', err);
    }
  };
  tryPlay();

  // ç‚¹å‡» Start åæ·¡å‡ºå¹¶æš‚åœï¼ˆä½ å·²æœ‰çš„é€»è¾‘ï¼Œä¿ç•™ï¼‰
  const startLink2 = document.querySelector('#bt_start a');
  if (startLink2) {
    startLink2.addEventListener('click', function(e){
      e.preventDefault();
      e.stopPropagation();
      wrap.classList.add('hide');
      const onEnd = () => { try { video.pause(); } catch(e){} video.removeEventListener('transitionend', onEnd); };
      video.addEventListener('transitionend', onEnd);
    }, {passive:false});
  }

  // ç”¨æˆ·ä»»æ„ç‚¹å‡»ä¹Ÿå°è¯•å”¤é†’è‡ªåŠ¨æ’­æ”¾ï¼ˆå¦‚æœè¢«é˜»æ­¢ï¼‰
  window.addEventListener('pointerdown', tryPlay, {once:true});
})();
</script>
<script>
(function(){
  const startLink  = document.querySelector('#bt_start a');  // âœ… åªç»‘å®šåˆ°æŒ‰é’®è‡ªèº«
  const ca         = document.getElementById('ca_chip');
  const topActions = document.querySelector('.top-actions');
  let hidden = false;  // é˜²é‡å…¥

  if (startLink) {
    startLink.addEventListener('click', function(e){
      e.preventDefault();
      e.stopPropagation();
      if (hidden) return;
      if (ca) ca.style.display = 'none';
      if (topActions) topActions.style.display = 'none';
      hidden = true;
    }, {passive:false});
  }
})();
</script>
<canvas id="petalCanvas" aria-hidden="true"></canvas>
<script>
;(() => {
  // â€”â€” å¯è°ƒå‚æ•° â€”â€”ï¼ˆä¸ä½ ç»™çš„å° demo ä¸€è‡´ï¼‰
  const IMAGES = ['assets/jimi1.png','assets/jimi2.png','assets/jimi3.jpg'];
  const SIZE_FIXED = 112;         // ç»Ÿä¸€å°ºå¯¸
  const RADIUS_MIN = 24;          // å‡ºç°ä½ç½®ç¦»å‚è€ƒç‚¹çš„æœ€å°åŠå¾„
  const RADIUS_MAX = 64;          // å‡ºç°ä½ç½®ç¦»å‚è€ƒç‚¹çš„æœ€å¤§åŠå¾„
  const DROP_RATIO = 0.20;        // ä¸‹è½ 20% è§†å£é«˜åº¦
  const LIFE = [800, 1200];       // å¯¿å‘½ï¼ˆæ¯«ç§’ï¼‰
  const SPIN = [-20, 20];         // æ—‹è½¬ï¼ˆåº¦/ç§’ï¼‰
  const WIGGLE_A = [0.4, 1.0];    // è½»å¾®æ‘†åŠ¨æŒ¯å¹…ï¼ˆåƒç´ ï¼‰
  const WIGGLE_W = [3, 6];        // è½»å¾®æ‘†åŠ¨é¢‘ç‡ï¼ˆè¿‘ä¼¼ Hzï¼‰
  const JITTER = 0.12;            // åˆé€Ÿåº¦æŠ–åŠ¨å¼ºåº¦
  const PERIOD_MS = 300;          // â˜… æ¯ 0.3 ç§’ç”Ÿæˆ 1 ä¸ª

  // â€”â€” å†…éƒ¨çŠ¶æ€ï¼ˆå…¨éƒ¨å±€éƒ¨ä½œç”¨åŸŸï¼Œä¸æ³„æ¼åˆ°å…¨å±€ï¼‰â€”â€”
  let started = false;            // åªå¯åŠ¨ä¸€æ¬¡
  let lastPos = null;             // é¼ æ ‡/è§¦æ‘¸å‚è€ƒç‚¹
  let imagesReady = false;        // å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œ
  let imgs = [];
  const petals = [];

  // ç»‘å®šåˆ°é¡µé¢çš„ Startï¼ˆä¸æ”¹å˜ä½ ç°æœ‰é€»è¾‘ï¼Œä¸é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼‰
  const startBtn = document.querySelector('#bt_start a');

  if (!startBtn) return;

  // åªåœ¨ç¬¬ä¸€æ¬¡ç‚¹å‡»æ—¶å¯åŠ¨æ•ˆæœ
  if (startBtn) {
    startBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (started) return;
      started = true;
      tryStartPetals();
    }, { passive: false });
  }


  function tryStartPetals(){
    const canvas = document.getElementById('petalCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    let viewW = window.innerWidth, viewH = window.innerHeight;

    function resize(){
      viewW = window.innerWidth; viewH = window.innerHeight;
      canvas.width = Math.floor(viewW * DPR);
      canvas.height = Math.floor(viewH * DPR);
      canvas.style.width = viewW + 'px';
      canvas.style.height = viewH + 'px';
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
      if (!lastPos) lastPos = { x: viewW/2, y: viewH/2 };  // åˆæ¬¡é»˜è®¤ä¸­å¿ƒ
    }
    resize();
    window.addEventListener('resize', resize, {passive:true});

    // é¢„åŠ è½½å›¾ç‰‡ï¼ˆå¤±è´¥ä¹Ÿä¸å½±å“ï¼Œå…œåº•ç”¨ emojiï¼‰
    if (IMAGES.length){
      let loaded = 0;
      imgs = IMAGES.map(u => {
        const im = new Image();
        im.decoding = 'async';
        im.onload = im.onerror = () => { if (++loaded === IMAGES.length) imagesReady = true; };
        im.src = u;
        return im;
      });
    }else{
      imagesReady = true;
    }
    const fallbackEmoji = 'ğŸŒ¸';

    // å·¥å…·
    const rand = (a,b) => a + Math.random()*(b-a);
    const pick = (arr) => arr[(Math.random()*arr.length)|0];

    // ç”Ÿæˆä¸€ä¸ªèŠ±ç“£ï¼ˆå‡ºç°åœ¨å‚è€ƒç‚¹â€œå‘¨å›´â€çš„ç¯å¸¦ï¼‰
    function emitAround(x, y){
      const ang = rand(0, Math.PI*2);
      const radius = rand(RADIUS_MIN, RADIUS_MAX);
      const x0 = x + Math.cos(ang)*radius;
      const y0 = y + Math.sin(ang)*radius;

      const life = rand(LIFE[0], LIFE[1]);
      const dropDist = viewH * DROP_RATIO;
      const vy = dropDist / life;
      const vx = (Math.random()*2-1) * JITTER;
      const spin = rand(SPIN[0], SPIN[1]) * Math.PI/180/1000; // rad/ms

      petals.push({
        x:x0, y:y0, vx, vy,
        life, age:0,
        size: SIZE_FIXED,
        spin, rot: rand(0, Math.PI*2),
        wigA: rand(WIGGLE_A[0], WIGGLE_A[1]),
        wigW: rand(WIGGLE_W[0], WIGGLE_W[1]),
        img: imgs.length ? pick(imgs) : null
      });
    }

    // å‚è€ƒä½ç½®æ›´æ–°ï¼ˆä¸æŠ¢äº‹ä»¶ï¼‰
    window.addEventListener('mousemove', e => { lastPos = { x:e.clientX, y:e.clientY }; }, {passive:true});
    window.addEventListener('touchmove', e => {
      const t = e.changedTouches && e.changedTouches[0];
      if (t) lastPos = { x:t.clientX, y:t.clientY };
    }, {passive:true});
    window.addEventListener('click', e => { lastPos = { x:e.clientX, y:e.clientY }; }, {passive:true});

    // å®šæ—¶å™¨ï¼šæ¯éš” 0.3s ç”Ÿæˆ 1 ä¸ªï¼ˆç­‰å›¾ç‰‡ readyï¼‰
    const emitTimer = setInterval(() => {
      if (!imagesReady) return;
      const p = lastPos || { x:viewW/2, y:viewH/2 };
      emitAround(p.x, p.y);
    }, PERIOD_MS);

    // æ¸²æŸ“å¾ªç¯
    let last = performance.now();
    (function tick(){
      const now = performance.now();
      const dt = Math.min(48, now - last);
      last = now;

      ctx.clearRect(0, 0, canvas.width/DPR, canvas.height/DPR);

      for (let i=petals.length-1; i>=0; i--){
        const p = petals[i];
        p.age += dt;
        if (p.age >= p.life){ petals.splice(i,1); continue; }

        const tsec = p.age / 1000;
        p.x += p.vx * dt + Math.cos(tsec * p.wigW * Math.PI*2) * (p.wigA * dt/1000);
        p.y += p.vy * dt + Math.sin(tsec * p.wigW * Math.PI*2) * (p.wigA * dt/1000);
        p.rot += p.spin * dt;

        // é€æ˜åº¦ï¼šå‰ 20% æ·¡å…¥ï¼Œ40% åå¼€å§‹æ·¡å‡º
        const fadeInEnd  = p.life * 0.20;
        const fadeOutBeg = p.life * 0.40;
        let alpha = 1;
        if (p.age <= fadeInEnd) alpha = p.age / fadeInEnd;
        else if (p.age >= fadeOutBeg) alpha = 1 - (p.age - fadeOutBeg) / (p.life - fadeOutBeg);
        ctx.globalAlpha = Math.max(0, Math.min(1, alpha));

        // ç»˜åˆ¶ï¼ˆç»Ÿä¸€å°ºå¯¸ï¼‰
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        const s = p.size;
        if (p.img && p.img.complete && p.img.naturalWidth){
          ctx.drawImage(p.img, -s/2, -s/2, s, s);
        } else {
          ctx.font = `${s}px "Apple Color Emoji","Segoe UI Emoji"`;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText(fallbackEmoji, 0, 0);
        }
        ctx.restore();
      }
      ctx.globalAlpha = 1;
      requestAnimationFrame(tick);
    })();

    // å¦‚æœä½ æœªæ¥éœ€è¦â€œåœæ­¢â€æ•ˆæœï¼Œå¯åœ¨å¤–éƒ¨è°ƒç”¨ï¼š
    // clearInterval(emitTimer);
    // petals.length = 0;
    // ctx.clearRect(0,0,canvas.width/DPR,canvas.height/DPR);
  }
})();
</script>

</body>
</html>
